%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: 9b36b0e6f589d4061862b0643c1e5bb2, type: 3}
  m_Name: NewsDetailSO_ex3
  m_EditorClassIdentifier: 
  title: "\u8D27\u62C9\u62C9\u62C9\u4E0D\u62C9\u62C9\u62C9\u62C9\u5E03\u62C9\u591A"
  title_EN: 
  author: "\u5566\u5566\u5566"
  author_EN: 
  time: "2013\u5E74\u8003\u53E4"
  time_EN: 
  content: "\u5531\u4E00\u652F\u5C71\u6B4C~~~~~~~~\n\u3010\u672C\u62A5\u8BAF\u3011\n\u660E\u767D\u4E86\uFF01\u60A8\u7684\u9700\u6C42\u662F\u5728\u6587\u672C\u53EA\u6709\u4E00\u884C\u65F6\u4F7F\u7528
    preferredWidth \u6765\u8BBE\u7F6E\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\uFF0C\u800C\u5F53\u6587\u672C\u6709\u591A\u884C\u65F6\uFF0C\u4F7F\u7528
    rect.width \u4F5C\u4E3A\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u3002\u8FD9\u4E2A\u903B\u8F91\u975E\u5E38\u6E05\u6670\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7\u68C0\u6D4B
    Text \u7EC4\u4EF6\u7684 preferredHeight \u4E0E rect.height \u7684\u5173\u7CFB\u6765\u5224\u65AD\u6587\u672C\u662F\u5426\u6362\u884C\u3002\n\n\u5B9E\u73B0\u601D\u8DEF\uFF1A\n\u5224\u65AD\u6587\u672C\u662F\u5426\u6362\u884C\uFF1A\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6BD4\u8F83
    Text \u7684 preferredHeight \u548C rect.height \u6765\u5224\u65AD\u5F53\u524D\u6587\u672C\u662F\u5426\u6362\u884C\u3002preferredHeight
    \u662F\u6839\u636E\u5185\u5BB9\u8BA1\u7B97\u7684\u7406\u60F3\u9AD8\u5EA6\uFF0C\u800C
    rect.height \u662F\u5F53\u524D Text \u7EC4\u4EF6\u7684\u5B9E\u9645\u9AD8\u5EA6\u3002\u5982\u679C\u4E24\u8005\u76F8\u7B49\uFF0C\u5219\u8BF4\u660E\u6CA1\u6709\u6362\u884C\uFF1B\u5982\u679C
    preferredHeight \u5927\u4E8E rect.height\uFF0C\u5219\u8BF4\u660E\u6587\u672C\u5DF2\u7ECF\u6362\u884C\u3002\n\n\u6839\u636E\u884C\u6570\u9009\u62E9\u4E0B\u5212\u7EBF\u5BBD\u5EA6\uFF1A\n\n\u5F53\u6587\u672C\u53EA\u6709\u4E00\u884C\u65F6\uFF0C\u4F7F\u7528
    preferredWidth\u3002\n\u5F53\u6587\u672C\u6709\u591A\u884C\u65F6\uFF0C\u4F7F\u7528
    rect.width\u3002\n\u4FEE\u6539\u540E\u7684\u4EE3\u7801\uFF1A\ncsharp\nCopy code\nusing
    UnityEngine;\nusing UnityEngine.UI;\nusing UnityEngine.EventSystems;\n\npublic
    class ButtonHoverUnderlineSingle : MonoBehaviour, IPointerEnterHandler, IPointerExitHandler\n{\n   
    [SerializeField] private Text buttonText;    // \u624B\u52A8\u6307\u5B9A\u7684
    Text \u7EC4\u4EF6\n    [SerializeField] private Image underlineImage; // \u7528\u4F5C\u4E0B\u5212\u7EBF\u7684
    Image \u9884\u5236\u4F53\n    [SerializeField] private float underlineHeight
    = 2f; // \u4E0B\u5212\u7EBF\u7684\u9AD8\u5EA6\n    [SerializeField] private float
    underlineOffset = 2f; // \u4E0B\u5212\u7EBF\u4E0E\u6587\u5B57\u4E4B\u95F4\u7684\u8DDD\u79BB\u504F\u79FB\n\n   
    void Start()\n    {\n        if (underlineImage != null)\n        {\n           
    underlineImage.enabled = false; // \u521D\u59CB\u72B6\u6001\u4E0B\u9690\u85CF\u4E0B\u5212\u7EBF\n       
    }\n        else\n        {\n            Debug.LogWarning(\"\u8BF7\u624B\u52A8\u5206\u914D\u4E0B\u5212\u7EBF\u7684
    Image \u7EC4\u4EF6\uFF01\");\n        }\n    }\n\n    // \u5F53\u9F20\u6807\u60AC\u505C\u65F6\n   
    public void OnPointerEnter(PointerEventData eventData)\n    {\n        if (buttonText
    != null && underlineImage != null)\n        {\n            UpdateUnderlinePositionAndWidth();
    // \u66F4\u65B0\u4E0B\u5212\u7EBF\u7684\u4F4D\u7F6E\u548C\u5BBD\u5EA6\n           
    underlineImage.enabled = true;     // \u663E\u793A\u4E0B\u5212\u7EBF\n       
    }\n    }\n\n    // \u5F53\u9F20\u6807\u79BB\u5F00\u65F6\n    public void OnPointerExit(PointerEventData
    eventData)\n    {\n        if (underlineImage != null)\n        {\n           
    underlineImage.enabled = false;    // \u9690\u85CF\u4E0B\u5212\u7EBF\n       
    }\n    }\n\n    // \u6839\u636E\u6587\u672C\u5185\u5BB9\u8C03\u6574\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u548C\u4F4D\u7F6E\n   
    private void UpdateUnderlinePositionAndWidth()\n    {\n        // \u5224\u65AD\u6587\u672C\u662F\u5426\u6709\u6362\u884C\uFF1A\u901A\u8FC7\u6BD4\u8F83
    preferredHeight \u548C rect.height\n        bool isMultiLine = buttonText.preferredHeight
    > buttonText.rectTransform.rect.height;\n\n        // \u83B7\u53D6\u6587\u672C\u6846\u7684\u5BBD\u5EA6\n       
    float textWidth = isMultiLine ? buttonText.rectTransform.rect.width : buttonText.preferredWidth;\n\n       
    // \u8BBE\u7F6E\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u4E3A\u6587\u672C\u6846\u7684\u5BBD\u5EA6\n       
    RectTransform underlineRect = underlineImage.rectTransform;\n        underlineRect.sizeDelta
    = new Vector2(textWidth, underlineHeight);\n\n        // \u83B7\u53D6 Text \u7EC4\u4EF6\u7684
    RectTransform\n        RectTransform textRect = buttonText.rectTransform;\n\n       
    // \u786E\u4FDD\u4E0B\u5212\u7EBF\u951A\u70B9\u4E0E\u6587\u672C\u4E00\u81F4\n       
    underlineRect.anchorMin = new Vector2(0, 0);  // \u5DE6\u4E0B\u5BF9\u9F50\n       
    underlineRect.anchorMax = new Vector2(0, 0);  // \u5DE6\u4E0B\u5BF9\u9F50\n       
    underlineRect.pivot = new Vector2(0, 0);      // \u951A\u70B9\u5728\u5DE6\u4E0B\u89D2\n\n       
    // \u8BA1\u7B97\u4E0B\u5212\u7EBF\u7684\u4F4D\u7F6E\uFF1A\u4F7F\u5176\u8D34\u5728\u6587\u672C\u6846\u7684\u5E95\u90E8\uFF0C\u5E76\u6839\u636E
    offset \u8C03\u6574\n        float yOffset = -underlineOffset; // \u4FDD\u8BC1\u4E0B\u5212\u7EBF\u5728\u6587\u672C\u6846\u5E95\u90E8\u7D27\u8D34\n       
    underlineRect.anchoredPosition = new Vector2(0, yOffset);\n    }\n}\n\u5173\u952E\u4FEE\u6539\u70B9\uFF1A\n\u5224\u65AD\u662F\u5426\u6362\u884C\uFF1A\n\n\u6211\u4EEC\u901A\u8FC7\u6BD4\u8F83
    buttonText.preferredHeight \u548C buttonText.rectTransform.rect.height \u6765\u5224\u65AD\u6587\u672C\u662F\u5426\u6362\u884C\u3002\n\u5982\u679C
    preferredHeight \u5927\u4E8E rect.height\uFF0C\u5219\u8BF4\u660E\u6587\u672C\u6709\u591A\u884C\uFF1B\u5426\u5219\uFF0C\u6587\u672C\u53EA\u6709\u4E00\u884C\u3002\ncsharp\nCopy
    code\nbool isMultiLine = buttonText.preferredHeight > buttonText.rectTransform.rect.height;\n\u52A8\u6001\u8C03\u6574\u4E0B\u5212\u7EBF\u5BBD\u5EA6\uFF1A\n\n\u5982\u679C\u6587\u672C\u53EA\u6709\u4E00\u884C\uFF0C\u4F7F\u7528
    buttonText.preferredWidth \u6765\u8BBE\u7F6E\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u3002\n\u5982\u679C\u6587\u672C\u6709\u591A\u884C\uFF0C\u4F7F\u7528
    buttonText.rectTransform.rect.width \u4F5C\u4E3A\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u3002\ncsharp\nCopy
    code\nfloat textWidth = isMultiLine ? buttonText.rectTransform.rect.width : buttonText.preferredWidth;\n\u4E0B\u5212\u7EBF\u7684\u4F4D\u7F6E\uFF1A\n\n\u4E0B\u5212\u7EBF\u7684
    Y \u8F74\u504F\u79FB\u901A\u8FC7 underlineOffset \u63A7\u5236\uFF0C\u786E\u4FDD\u5B83\u59CB\u7EC8\u7D27\u8D34\u6587\u672C\u6846\u7684\u5E95\u90E8\u3002\ncsharp\nCopy
    code\nfloat yOffset = -underlineOffset;\nunderlineRect.anchoredPosition = new
    Vector2(0, yOffset);\n\u5982\u4F55\u4F7F\u7528\uFF1A\n\u5C06 ButtonHoverUnderlineSingle
    \u811A\u672C\u9644\u52A0\u5230\u6309\u94AE\u5BF9\u8C61\u4E0A\u3002\n\u5728 Inspector
    \u4E2D\u624B\u52A8\u8BBE\u7F6E\uFF1A\n\u5C06\u6309\u94AE\u7684 Text \u7EC4\u4EF6\u62D6\u52A8\u5230
    Button Text \u5B57\u6BB5\u3002\n\u5C06\u7528\u4E8E\u663E\u793A\u4E0B\u5212\u7EBF\u7684
    Image \u7EC4\u4EF6\u62D6\u52A8\u5230 Underline Image \u5B57\u6BB5\u3002\n\u6839\u636E\u9700\u8981\u8C03\u6574
    Underline Height \u548C Underline Offset\uFF0C\u6765\u8BBE\u7F6E\u4E0B\u5212\u7EBF\u7684\u9AD8\u5EA6\u548C\u4E0E\u6587\u672C\u6846\u5E95\u90E8\u7684\u95F4\u8DDD\u3002\n\u6548\u679C\uFF1A\n\u5F53\u6587\u672C\u53EA\u6709\u4E00\u884C\u65F6\uFF0C\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u5C06\u4E0E
    preferredWidth \u4E00\u81F4\u3002\n\u5F53\u6587\u672C\u6709\u591A\u884C\u65F6\uFF0C\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u5C06\u4E0E
    Text \u7EC4\u4EF6\u7684\u5B9E\u9645\u663E\u793A\u5BBD\u5EA6 (rect.width) \u4E00\u81F4\u3002\n\u4E0B\u5212\u7EBF\u59CB\u7EC8\u8D34\u5728\u6587\u672C\u6846\u7684\u5E95\u90E8\uFF0C\u5E76\u4E14\u5BBD\u5EA6\u4F1A\u6839\u636E\u6587\u672C\u7684\u884C\u6570\u81EA\u52A8\u8C03\u6574\u3002\n\u603B\u7ED3\uFF1A\n\u8FD9\u4E2A\u89E3\u51B3\u65B9\u6848\u786E\u4FDD\u4E86\u5728\u6587\u672C\u53EA\u6709\u4E00\u884C\u65F6\u4F7F\u7528
    preferredWidth \u6765\u8BBE\u7F6E\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\uFF0C\u800C\u5728\u6587\u672C\u6709\u591A\u884C\u65F6\u4F7F\u7528
    rect.width\u3002\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u4E0B\u5212\u7EBF\u5728\u4E00\u884C\u6587\u672C\u548C\u591A\u884C\u6587\u672C\u4E2D\u7684\u4E0D\u4E00\u81F4\u884C\u4E3A\uFF0C\u540C\u65F6\u4FDD\u8BC1\u4E0B\u5212\u7EBF\u7684\u5BBD\u5EA6\u4E0E\u6587\u672C\u7684\u663E\u793A\u5BBD\u5EA6\u4E00\u81F4\u3002\n\n\u5982\u679C\u6709\u4EFB\u4F55\u5176\u4ED6\u95EE\u9898\uFF0C\u968F\u65F6\u544A\u8BC9\u6211\uFF01\n\n\u795E\uFF0C\u505A\u4E0D\u51FA\u6765\u554A\u3002"
  content_EN: 
